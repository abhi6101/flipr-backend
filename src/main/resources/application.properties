spring.application.name=backend

# ==============================================================
# EMERGENCY FIX: HARDCODED DATABASE CONNECTION
# ==============================================================
# We are using the Singapore Pooler (IPv4) explicitly to stop "Tenant not found"
spring.datasource.url=jdbc:postgresql://aws-0-ap-southeast-1.pooler.supabase.com:6543/postgres?sslmode=require&prepareThreshold=0

# Username MUST include the project ID for the pooler to work
spring.datasource.username=postgres.byncekvtlzuiograkafy

# Your Password
spring.datasource.password=MySecurePass12

spring.datasource.driver-class-name=org.postgresql.Driver

# ==============================================================
# JWT SECURITY (Keep using Env Var or Hardcode if needed)
# ==============================================================
# If you didn't set JWT_SECRET in Render yet, paste the long key here directly:
# security.jwt.secret-key=5367566B59703373367639792F423F4528482B4D6251655468576D5A71347437
# Otherwise, keep using the variable:
security.jwt.secret-key=${JWT_SECRET}

# ==============================================================
# HIBERNATE SETTINGS
# ==============================================================
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true

# ==============================================================
# POOL SETTINGS
# ==============================================================
spring.datasource.hikari.maximum-pool-size=3
spring.datasource.hikari.minimum-idle=1
spring.datasource.hikari.max-lifetime=20000
spring.datasource.hikari.idle-timeout=15000
server.port=8080